/*! For license information please see addReply.4a656954.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[241],{230:(t,e,r)=>{var n=r(166),o={class:"max-w-2xl mx-auto rounded-lg"},i={class:"text-3xl font-bold text-center py-4"},a={key:0},s={key:0},l={key:1},c={class:"flex flex-col gap-4 mb-5"},u={class:"bg-white shadow-md rounded-lg p-4"},p={class:"flex justify-between items-center mb-4"},f={class:"flex items-center"},d=["src"],h=["href"],v={key:0,class:"text-gray-600 text-xs"},g={key:1,class:"text-gray-600 text-xs"},y={class:"text-gray-600 text-xs"},m={class:"text-gray-600 text-xs"},w={class:"text-gray-800"},x={class:"flex flex-wrap"},b={class:"w-20 h-20"},_=["onClick","src"],k={class:"flex flex-col gap-4"},L={class:"bg-white shadow-md rounded-lg p-4"},C={class:"flex justify-between items-center mb-4"},F={class:"flex items-center"},S=["onClick","src"],E=["href"],P={key:0,class:"text-gray-600 text-xs"},j={key:1,class:"text-gray-600 text-xs"},O={class:"text-gray-600 text-xs"},D={class:"text-gray-800"},R={class:"flex flex-wrap"},I={class:"w-20 h-20"},G=["onClick","src"],T=(0,n._)("label",{class:"font-bold mb-2 block",for:"body"},"Escribe una respuesta:",-1),V={id:"body",ref:"body",class:"border border-gray-400 rounded-md py-2 px-3 w-full mb-4",required:"",rows:"4"},$=(0,n._)("label",{class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-md mr-3 cursor-pointer",for:"picture"}," Anadir imagenes a tu publicacion ",-1),N=(0,n._)("button",{class:"bg-[#06d6a0] mt-4 text-white py-2 px-3 rounded-md hover:bg-green-600",type:"submit"},"Responder ",-1);var A=r(861),U=r(962),Z={width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z=[(0,n._)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),(0,n._)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),(0,n._)("g",{id:"SVGRepo_iconCarrier"},[(0,n._)("path",{d:"M19 19.2674V7.84496C19 5.64147 17.4253 3.74489 15.2391 3.31522C13.1006 2.89493 10.8994 2.89493 8.76089 3.31522C6.57467 3.74489 5 5.64147 5 7.84496V19.2674C5 20.6038 6.46752 21.4355 7.63416 20.7604L10.8211 18.9159C11.5492 18.4945 12.4508 18.4945 13.1789 18.9159L16.3658 20.7604C17.5325 21.4355 19 20.6038 19 19.2674Z",stroke:"#363853","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)];const Y={name:"SvgNotFavourite"};var q=r(744);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function H(){H=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new C(o||[]);return n(a,"_invoke",{value:b(t,r,s)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var p={};function f(){}function d(){}function h(){}var v={};l(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(F([])));y&&y!==e&&r.call(y,i)&&(v=y);var m=h.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(n,i,a,s){var l=u(t[n],t,i);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==M(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(p).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function b(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function F(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=l(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(m),l(m,s,"Generator"),l(m,i,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=F,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:F(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function K(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(t,e,r,n,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,o)}function J(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){W(i,n,o,a,s,"next",t)}function s(t){W(i,n,o,a,s,"throw",t)}a(void 0)}))}}const Q={components:{SvgNotFavourite:(0,q.Z)(Y,[["render",function(t,e,r,o,i,a){return(0,n.wg)(),(0,n.iD)("svg",Z,z)}]]),SvgFavourite:U.Z},methods:{addReply:function(){var t=this;return J(H().mark((function e(){var r,n,o,i,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FormData).append("body",t.$refs.body.value),r.append("id",t.$props.post.id),n=K(t.$refs.newPicture.files);try{for(n.s();!(o=n.n()).done;)i=o.value,r.append("images[]",i)}catch(t){n.e(t)}finally{n.f()}return e.next=7,A.Z.post("/replyToPost",r,{headers:{"Content-Type":"multipart/form-data"}});case 7:a=e.sent,console.log(a),console.log(a.data),t.repliesLocal.push(a.data.replyProcessed[0]),console.log(t.imagesFromReplies),t.$refs.body.value="";case 13:case"end":return e.stop()}}),e)})))()},addToFavourites:function(){var t=this;return J(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.Z.post("/addPostToFavourites",{id:t.$props.post.id});case 2:e.sent,t.isFavourite=!0;case 4:case"end":return e.stop()}}),e)})))()},removeFromFavourites:function(){var t=this;return J(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.Z.post("/removePostFromFavourites",{id:t.$props.post.id});case 2:e.sent,t.isFavourite=null;case 4:case"end":return e.stop()}}),e)})))()},viewImage:function(t){window.location.href=t}},mounted:function(){console.log(this.$props.post),this.isFavourite=this.$props.post.isFavourite,console.log(this.$props.replies),console.log(this.isFavourite),this.images=this.$props.post.postImages},props:["post","replies"],data:function(){return{repliesLocal:this.$props.replies,isFavourite:null,images:[],imagesFromReplies:[],imageFromNewReply:[]}}},X=(0,q.Z)(Q,[["render",function(t,e,r,A,U,Z){var z=this,Y=(0,n.up)("svg-not-favourite"),q=(0,n.up)("svg-favourite");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("h1",i,[(0,n.Uk)((0,n.zw)(this.post.title)+" ",1),this.post.loggedIn?((0,n.wg)(),(0,n.iD)("div",a,[null===this.isFavourite?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("button",{onClick:e[0]||(e[0]=function(){return Z.addToFavourites&&Z.addToFavourites.apply(Z,arguments)})},[(0,n.Wm)(Y,{class:"h-7 w-7"})])])):((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("button",{onClick:e[1]||(e[1]=function(){return Z.removeFromFavourites&&Z.removeFromFavourites.apply(Z,arguments)})},[(0,n.Wm)(q,{class:"h-7 w-7"})])]))])):(0,n.kq)("v-if",!0)]),(0,n.kq)('<div class="bg-white shadow-md rounded-lg p-4 mb-6">\r\n      <div class="flex justify-between items-center mb-4">\r\n      <div class="flex items-center">\r\n        <img :src="this.post.profilePic" alt="" class="w-12 h-12 rounded-full mr-2">\r\n      </div>\r\n\r\n        <a :href="`/profile/${this.post.author}`"></a>\r\n        <p class="text-gray-600 text-xs">Creacion de la publicacion:{{ (this.post.date) }}</p>\r\n        <p v-if="this.post.role===\'U\'" class="text-gray-600 text-xs">Rol: Usuario</p>\r\n        <p v-else class="text-gray-600 text-xs">Rol: administrador</p>\r\n        <p class="text-gray-600 text-xs">{{ this.post.category }}</p>\r\n\r\n\r\n      <p >{{ this.post.body }}</p>\r\n    </div>\r\n\r\n    <div v-for="image in images">\r\n      <img :src="image.link" alt="" class="w-20 h-20">\r\n    </div>'),(0,n._)("div",c,[(0,n._)("div",u,[(0,n._)("div",p,[(0,n._)("div",f,[(0,n._)("img",{onClick:e[2]||(e[2]=function(t){return Z.viewImage(z.post.profilePic)}),src:this.post.profilePic,alt:"Profile Picture",class:"w-12 h-12 object-contain rounded-full mr-2"},null,8,d),(0,n._)("div",null,[(0,n._)("a",{href:"/profile/".concat(this.post.author)},(0,n.zw)(this.post.author),9,h),"U"===this.post.role?((0,n.wg)(),(0,n.iD)("p",v,"Rol: Usuario")):((0,n.wg)(),(0,n.iD)("p",g,"Rol: administrador")),(0,n._)("p",y,(0,n.zw)(this.post.category),1),(0,n._)("p",m,(0,n.zw)(this.post.date),1)])])]),(0,n._)("p",w,(0,n.zw)(this.post.body),1),(0,n._)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.images,(function(t){return(0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("img",{onClick:function(e){return Z.viewImage(t.link)},src:t.link,alt:"",class:"w-full h-full"},null,8,_)])})),256))])])]),(0,n._)("div",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.repliesLocal,(function(t){return(0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",C,[(0,n._)("div",F,[(0,n._)("img",{onClick:function(e){return Z.viewImage(t.profilePic)},src:t.profilePic,alt:"Profile Picture",class:"w-12 h-12 object-contain rounded-full mr-4"},null,8,S),(0,n._)("div",null,[(0,n._)("a",{href:"/profile/".concat(t.user)},(0,n.zw)(t.user),9,E),"U"===t.role?((0,n.wg)(),(0,n.iD)("p",P,"Rol: Usuario")):((0,n.wg)(),(0,n.iD)("p",j,"Rol: administrador")),(0,n._)("p",O,(0,n.zw)(t.date),1)])])]),(0,n._)("p",D,(0,n.zw)(t.body),1),(0,n._)("div",R,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.repliedImages,(function(t){return(0,n.wg)(),(0,n.iD)("div",I,[(0,n._)("img",{onClick:function(e){return Z.viewImage(t.link)},src:t.link,alt:"",class:"w-full h-full"},null,8,G)])})),256))])])})),256))]),this.post.loggedIn?((0,n.wg)(),(0,n.iD)("form",{key:0,class:"px-6 py-4 bg-gray-100 rounded-md my-6",onSubmit:e[4]||(e[4]=(0,n.iM)((function(){return Z.addReply&&Z.addReply.apply(Z,arguments)}),["prevent"]))},[T,(0,n._)("textarea",V,null,512),$,(0,n._)("input",{id:"picture",ref:"newPicture",accept:"image/jpeg,image/png,image/gif,image/webp",class:"hidden",multiple:"true",name:"images[]",type:"file",onChange:e[3]||(e[3]=function(){return t.print&&t.print.apply(t,arguments)})},null,544),N],32)):(0,n.kq)("v-if",!0)])}]]);window.__VUE_OPTIONS_API__=!0,window.__VUE_PROD_DEVTOOLS__=!1;var tt=(0,n.ri)({});tt.component("add-reply",X),tt.mount("#reply")},962:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(166),o={width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i=[(0,n._)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),(0,n._)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),(0,n._)("g",{id:"SVGRepo_iconCarrier"},[(0,n._)("path",{d:"M15.0309 3.30271C13.0299 2.8991 10.9701 2.8991 8.96913 3.30271C6.66186 3.76809 5 5.82231 5 8.20894V18.6292C5 20.4579 6.9567 21.596 8.51221 20.6721L11.3451 18.9895C11.7496 18.7492 12.2504 18.7492 12.6549 18.9895L15.4878 20.6721C17.0433 21.596 19 20.4579 19 18.6292V8.20894C19 5.82231 17.3381 3.76809 15.0309 3.30271Z",fill:"#363853"})],-1)];const a={name:"SvgFavourite"};const s=(0,r(744).Z)(a,[["render",function(t,e,r,a,s,l){return(0,n.wg)(),(0,n.iD)("svg",o,i)}]])}},t=>{t.O(0,[240,861,690],(()=>{return e=230,t(t.s=e);var e}));t.O()}]);